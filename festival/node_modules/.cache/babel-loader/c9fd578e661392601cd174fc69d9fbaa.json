{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/wamp64/www/festival/Festival/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/wamp64/www/festival/Festival/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/wamp64/www/festival/Festival/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import axios from'axios';var Type_rap_prgm=function Type_rap_prgm(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),typeOfRap=_useState4[0],setTypeOfRap=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filterData=_useState6[0],setFilterData=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),autreFilter=_useState8[0],setAutreFilter=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),autreFilter1=_useState10[0],setAutreFilter1=_useState10[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"/memory_admin/controller/programme/programme_api.php\");case 2:result=_context.sent;setData(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){if(typeOfRap&&autreFilter&&!autreFilter1){var filterTypeRap=data.filter(function(musique){return musique.type_rap===typeOfRap&&musique.nom_scene===autreFilter;});setFilterData(filterTypeRap);return;}if(typeOfRap&&autreFilter1&&!autreFilter){var _filterTypeRap=data.filter(function(musique){return musique.type_rap===typeOfRap&&musique.date_formatage_prgm===autreFilter1;});setFilterData(_filterTypeRap);return;}if(autreFilter1&&autreFilter&&!typeOfRap){var _filterTypeRap2=data.filter(function(musique){return musique.date_formatage_prgm===autreFilter1&&musique.nom_scene===autreFilter;});setFilterData(_filterTypeRap2);return;}if(autreFilter1&&autreFilter&&typeOfRap){var _filterTypeRap3=data.filter(function(musique){return musique.type_rap===typeOfRap&&musique.nom_scene===autreFilter&&musique.date_formatage_prgm===autreFilter1;});setFilterData(_filterTypeRap3);return;}if(typeOfRap||autreFilter||autreFilter1){var _filterTypeRap4=data.filter(function(musique){return musique.nom_scene===autreFilter||musique.type_rap===typeOfRap||musique.date_formatage_prgm===autreFilter1;});setFilterData(_filterTypeRap4);return;}setFilterData(data);return;},[data,typeOfRap,autreFilter,autreFilter1]);var result=filterData.length;var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),nom_scene=_useState12[0],setNom_scene=_useState12[1];useEffect(function(){var fetchNom_scene=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios(\"/memory_admin/controller/distinc_select_api.php\");case 2:result=_context2.sent;setNom_scene(result.data);console.log(\"updated\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchNom_scene(){return _ref2.apply(this,arguments);};}();fetchNom_scene();console.log(\"mounted\");},[]);var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),nom_artiste=_useState14[0],setNom_artiste=_useState14[1];useEffect(function(){var fetchNom_artiste=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios(\"/memory_admin/controller/distinc_select_api.php\");case 2:result=_context3.sent;setNom_artiste(result.data);console.log(\"updated\");case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchNom_artiste(){return _ref3.apply(this,arguments);};}();fetchNom_artiste();console.log(\"mounted\");},[]);var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),type_rap=_useState16[0],setType_rap=_useState16[1];useEffect(function(){var fetchType_rap=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios(\"/memory_admin/controller/distinc_select_api.php\");case 2:result=_context4.sent;setType_rap(result.data);console.log(\"updated\");case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchType_rap(){return _ref4.apply(this,arguments);};}();fetchType_rap();console.log(\"mounted\");},[]);//   const handleClick = (key,e) => {  \n//     e.preventDefault();    \n//     console.log(key);  \n//   }\nvar test=\"\";return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"\",value:typeOfRap,onChange:function onChange(e){var selectedFoodT=e.target.value;console.log(typeOfRap);setTypeOfRap(selectedFoodT);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--- Musique ---\"}),type_rap.filter(function(rien){return rien.type_rap;}).map(function(item,key){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:item.type_rap,children:item.type_rap})},key);})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"\",value:autreFilter,onChange:function onChange(e){var selectedFood=e.target.value;console.log(autreFilter);setAutreFilter(selectedFood);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--- Sc\\xE8ne ---\"}),nom_scene.filter(function(rien){return rien.nom_scene;}).map(function(item,key){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:item.nom_scene,children:item.nom_scene})},key);})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"\",value:autreFilter1,onChange:function onChange(e){var selectedFoodTT=e.target.value;setAutreFilter1(selectedFoodTT);console.log(setAutreFilter1(selectedFoodTT));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--- Date ---\"}),nom_artiste.filter(function(rien){return rien.date_formatage;}).map(function(item,key){return/*#__PURE__*/_jsxs(Fragment,{children:[test=item.date_formatage,test.includes(\"Monday\")?test=test.replace(\"Monday\",\"Lundi\"):\"\",test.includes(\"Tuesday\")?test=test.replace(\"Tuesday\",\"Mardi\"):\"\",test.includes(\"Wednesday\")?test=test.replace(\"Wednesday\",\"Mercredi\"):\"\",test.includes(\"Thursday\")?test=test.replace(\"Thursday\",\"Jeudi\"):\"\",test.includes(\"Friday\")?test=test.replace(\"Friday\",\"Vendredi\"):\"\",test.includes(\"Saturday\")?test=test.replace(\"Saturday\",\"Samedi\"):\"\",test.includes(\"Sunday\")?test=test.replace(\"Sunday\",\"Dimanche\"):\"\",/*#__PURE__*/_jsx(\"option\",{value:item.date_formatage,children:test})]},key);})]}),result>0?result>1?/*#__PURE__*/_jsxs(\"div\",{id:\"result_prgm_green\",children:[result,\" R\\xE9sultats\"]}):/*#__PURE__*/_jsxs(\"div\",{id:\"result_prgm_green\",children:[result,\" R\\xE9sultat\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"fausseHauteur\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"result_prgm_red\",children:[\" Aucun r\\xE9sultat trouv\\xE9  \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:\"https://data.photofunky.net/output/image/8/9/3/2/8932a4/photofunky.gif\"}),\" \"]})}),filterData.map(function(item,key){return/*#__PURE__*/ (// enlever le filter\n_jsxs(\"div\",{className:\"template\".concat(key%2),children:[/*#__PURE__*/_jsx(\"div\",{className:\"template_grid_1\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img_template_grid\",src:\"data:image/png;base64, \".concat(item.image_programme),alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"template_grid_2\",children:[/*#__PURE__*/_jsx(\"div\",{children:item.nom_artiste}),/*#__PURE__*/_jsx(\"div\",{children:item.nom_scene}),/*#__PURE__*/_jsx(\"div\",{children:item.date_formatage}),/*#__PURE__*/_jsxs(\"div\",{children:[item.heures_prog_debut,\" - \",item.heures_prog_fin]})]})]},key));})]});};export default Type_rap_prgm;","map":{"version":3,"sources":["C:/wamp64/www/festival/Festival/src/components/programmation/Type_rap_prgm.js"],"names":["React","Fragment","useState","useEffect","axios","Type_rap_prgm","data","setData","typeOfRap","setTypeOfRap","filterData","setFilterData","autreFilter","setAutreFilter","autreFilter1","setAutreFilter1","fetchData","result","filterTypeRap","filter","musique","type_rap","nom_scene","date_formatage_prgm","length","setNom_scene","fetchNom_scene","console","log","nom_artiste","setNom_artiste","fetchNom_artiste","setType_rap","fetchType_rap","test","e","selectedFoodT","target","value","rien","map","item","key","selectedFood","selectedFoodTT","date_formatage","includes","replace","image_programme","heures_prog_debut","heures_prog_fin"],"mappings":"uhBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,QAAzB,CAAmCC,SAAnC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,eAEAH,QAAQ,CAAC,EAAD,CAFR,wCAEjBI,IAFiB,eAEXC,OAFW,8BAIUL,QAAQ,EAJlB,yCAIjBM,SAJiB,eAINC,YAJM,8BAMYP,QAAQ,CAAC,EAAD,CANpB,yCAMjBQ,UANiB,eAMLC,aANK,8BAQcT,QAAQ,EARtB,yCAQjBU,WARiB,eAQJC,cARI,8BAUgBX,QAAQ,EAVxB,0CAUjBY,YAViB,gBAUHC,eAVG,gBAa1BZ,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,SAAS,0FAAG,oKACKZ,CAAAA,KAAK,CACxB,sDADwB,CADV,QACVa,MADU,eAKhBV,OAAO,CAACU,MAAM,CAACX,IAAR,CAAP,CALgB,sDAAH,kBAATU,CAAAA,SAAS,0CAAf,CAQAA,SAAS,GAEV,CAXQ,CAWN,EAXM,CAAT,CAcAb,SAAS,CAAC,UAAM,CAEd,GAAGK,SAAS,EAAII,WAAb,EAA4B,CAACE,YAAhC,CAA6C,CACzC,GAAMI,CAAAA,aAAa,CAAGZ,IAAI,CAACa,MAAL,CAAY,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,QAAR,GAAqBb,SAArB,EAAkCY,OAAO,CAACE,SAAR,GAAsBV,WAA5D,EAAnB,CAAtB,CACAD,aAAa,CAACO,aAAD,CAAb,CACA,OACH,CAED,GAAGV,SAAS,EAAIM,YAAb,EAA6B,CAACF,WAAjC,CAA6C,CACzC,GAAMM,CAAAA,cAAa,CAAGZ,IAAI,CAACa,MAAL,CAAY,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,QAAR,GAAqBb,SAArB,EAAkCY,OAAO,CAACG,mBAAR,GAAgCT,YAAtE,EAAnB,CAAtB,CACAH,aAAa,CAACO,cAAD,CAAb,CACA,OACH,CAED,GAAGJ,YAAY,EAAIF,WAAhB,EAA+B,CAACJ,SAAnC,CAA6C,CACzC,GAAMU,CAAAA,eAAa,CAAGZ,IAAI,CAACa,MAAL,CAAY,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACG,mBAAR,GAAgCT,YAAhC,EAAgDM,OAAO,CAACE,SAAR,GAAsBV,WAA1E,EAAnB,CAAtB,CACAD,aAAa,CAACO,eAAD,CAAb,CACA,OACH,CAED,GAAGJ,YAAY,EAAIF,WAAhB,EAAgCJ,SAAnC,CAA6C,CACzC,GAAMU,CAAAA,eAAa,CAAGZ,IAAI,CAACa,MAAL,CAAY,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,QAAR,GAAqBb,SAArB,EAAkCY,OAAO,CAACE,SAAR,GAAsBV,WAAxD,EAAuEQ,OAAO,CAACG,mBAAR,GAAgCT,YAA3G,EAAnB,CAAtB,CACAH,aAAa,CAACO,eAAD,CAAb,CACA,OACH,CAED,GAAGV,SAAS,EAAII,WAAb,EAA4BE,YAA/B,CAA6C,CAEzC,GAAMI,CAAAA,eAAa,CAAGZ,IAAI,CAACa,MAAL,CAAY,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACE,SAAR,GAAsBV,WAAtB,EAAqCQ,OAAO,CAACC,QAAR,GAAqBb,SAA1D,EAAuEY,OAAO,CAACG,mBAAR,GAAgCT,YAA3G,EAAnB,CAAtB,CACAH,aAAa,CAACO,eAAD,CAAb,CACA,OACH,CAEDP,aAAa,CAACL,IAAD,CAAb,CAEA,OAED,CArCQ,CAqCN,CAACA,IAAD,CAAOE,SAAP,CAAkBI,WAAlB,CAA+BE,YAA/B,CArCM,CAAT,CAwCA,GAAIG,CAAAA,MAAM,CAAGP,UAAU,CAACc,MAAxB,CAnE0B,gBAsEQtB,QAAQ,CAAC,EAAD,CAtEhB,2CAsEnBoB,SAtEmB,gBAsERG,YAtEQ,gBAwExBtB,SAAS,CAAC,UAAM,CAEZ,GAAMuB,CAAAA,cAAc,2FAAG,0KACFtB,CAAAA,KAAK,CAC1B,iDAD0B,CADH,QACjBa,MADiB,gBAKvBQ,YAAY,CAACR,MAAM,CAACX,IAAR,CAAZ,CACAqB,OAAO,CAACC,GAAR,CAAY,SAAZ,EANuB,wDAAH,kBAAdF,CAAAA,cAAc,2CAApB,CAQAA,cAAc,GACdC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAEH,CAbQ,CAaN,EAbM,CAAT,CAxEwB,gBAwFc1B,QAAQ,CAAC,EAAD,CAxFtB,2CAwFjB2B,WAxFiB,gBAwFJC,cAxFI,gBA0FxB3B,SAAS,CAAC,UAAM,CAEZ,GAAM4B,CAAAA,gBAAgB,2FAAG,0KACJ3B,CAAAA,KAAK,CAC1B,iDAD0B,CADD,QACnBa,MADmB,gBAKzBa,cAAc,CAACb,MAAM,CAACX,IAAR,CAAd,CACAqB,OAAO,CAACC,GAAR,CAAY,SAAZ,EANyB,wDAAH,kBAAhBG,CAAAA,gBAAgB,2CAAtB,CAQAA,gBAAgB,GAChBJ,OAAO,CAACC,GAAR,CAAY,SAAZ,EAEH,CAbQ,CAaN,EAbM,CAAT,CA1FwB,gBA0GQ1B,QAAQ,CAAC,EAAD,CA1GhB,2CA0GjBmB,QA1GiB,gBA0GPW,WA1GO,gBA4GxB7B,SAAS,CAAC,UAAM,CAEZ,GAAM8B,CAAAA,aAAa,2FAAG,0KACD7B,CAAAA,KAAK,CAC1B,iDAD0B,CADJ,QAChBa,MADgB,gBAKtBe,WAAW,CAACf,MAAM,CAACX,IAAR,CAAX,CACAqB,OAAO,CAACC,GAAR,CAAY,SAAZ,EANsB,wDAAH,kBAAbK,CAAAA,aAAa,2CAAnB,CAQAA,aAAa,GACbN,OAAO,CAACC,GAAR,CAAY,SAAZ,EAEH,CAbQ,CAaN,EAbM,CAAT,CAgBJ;AACA;AACA;AACA;AACI,GAAIM,CAAAA,IAAI,CAAG,EAAX,CACF,mBACM,MAAC,QAAD,yBACI,gBAAQ,IAAI,CAAC,EAAb,CAAgB,KAAK,CAAE1B,SAAvB,CAAkC,QAAQ,CAAE,kBAAC2B,CAAD,CAAO,CAE/C,GAAMC,CAAAA,aAAa,CAAGD,CAAC,CAACE,MAAF,CAASC,KAA/B,CACAX,OAAO,CAACC,GAAR,CAAYpB,SAAZ,EAEAC,YAAY,CAAC2B,aAAD,CAAZ,CACH,CAND,wBAOI,eAAQ,KAAK,CAAC,EAAd,6BAPJ,CAQKf,QAAQ,CAACF,MAAT,CAAgB,SAAAoB,IAAI,QAAIA,CAAAA,IAAI,CAAClB,QAAT,EAApB,EAAuCmB,GAAvC,CAA2C,SAACC,IAAD,CAAOC,GAAP,qBAC5C,KAAC,QAAD,wBACI,eAAQ,KAAK,CAAED,IAAI,CAACpB,QAApB,UAA+BoB,IAAI,CAACpB,QAApC,EADJ,EAAeqB,GAAf,CAD4C,EAA3C,CARL,GADJ,cAmBI,gBAAQ,IAAI,CAAC,EAAb,CAAgB,KAAK,CAAE9B,WAAvB,CAAoC,QAAQ,CAAE,kBAACuB,CAAD,CAAO,CAErD,GAAMQ,CAAAA,YAAY,CAAGR,CAAC,CAACE,MAAF,CAASC,KAA9B,CACIX,OAAO,CAACC,GAAR,CAAYhB,WAAZ,EACJC,cAAc,CAAC8B,YAAD,CAAd,CAGC,CAPD,wBAQA,eAAQ,KAAK,CAAC,EAAd,8BARA,CASCrB,SAAS,CAACH,MAAV,CAAiB,SAAAoB,IAAI,QAAIA,CAAAA,IAAI,CAACjB,SAAT,EAArB,EAAyCkB,GAAzC,CAA6C,SAACC,IAAD,CAAOC,GAAP,qBAC9C,KAAC,QAAD,wBACA,eAAQ,KAAK,CAAED,IAAI,CAACnB,SAApB,UAAgCmB,IAAI,CAACnB,SAArC,EADA,EAAeoB,GAAf,CAD8C,EAA7C,CATD,GAnBJ,cAqCI,gBAAQ,IAAI,CAAC,EAAb,CAAgB,KAAK,CAAE5B,YAAvB,CAAqC,QAAQ,CAAE,kBAACqB,CAAD,CAAO,CAEtD,GAAMS,CAAAA,cAAc,CAAGT,CAAC,CAACE,MAAF,CAASC,KAAhC,CACIvB,eAAe,CAAC6B,cAAD,CAAf,CACAjB,OAAO,CAACC,GAAR,CAAYb,eAAe,CAAC6B,cAAD,CAA3B,EAEH,CAND,wBAOA,eAAQ,KAAK,CAAC,EAAd,0BAPA,CAQCf,WAAW,CAACV,MAAZ,CAAmB,SAAAoB,IAAI,QAAIA,CAAAA,IAAI,CAACM,cAAT,EAAvB,EAAgDL,GAAhD,CAAoD,SAACC,IAAD,CAAOC,GAAP,qBAErD,MAAC,QAAD,YACMR,IAAI,CAAGO,IAAI,CAACI,cADlB,CAEMX,IAAI,CAACY,QAAL,CAAc,QAAd,EAA0BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,QAAb,CAAuB,OAAvB,CAAjC,CAAmE,EAFzE,CAGMb,IAAI,CAACY,QAAL,CAAc,SAAd,EAA2BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,SAAb,CAAwB,OAAxB,CAAlC,CAAqE,EAH3E,CAIMb,IAAI,CAACY,QAAL,CAAc,WAAd,EAA6BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,WAAb,CAA0B,UAA1B,CAApC,CAA4E,EAJlF,CAKMb,IAAI,CAACY,QAAL,CAAc,UAAd,EAA4BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,UAAb,CAAyB,OAAzB,CAAnC,CAAuE,EAL7E,CAMMb,IAAI,CAACY,QAAL,CAAc,QAAd,EAA0BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,QAAb,CAAuB,UAAvB,CAAjC,CAAsE,EAN5E,CAOMb,IAAI,CAACY,QAAL,CAAc,UAAd,EAA4BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,UAAb,CAAyB,QAAzB,CAAnC,CAAwE,EAP9E,CAQMb,IAAI,CAACY,QAAL,CAAc,QAAd,EAA0BZ,IAAI,CAAGA,IAAI,CAACa,OAAL,CAAa,QAAb,CAAuB,UAAvB,CAAjC,CAAsE,EAR5E,cASI,eAAQ,KAAK,CAAEN,IAAI,CAACI,cAApB,UAAqCX,IAArC,EATJ,GAAeQ,GAAf,CAFqD,EAApD,CARD,GArCJ,CAmEUzB,MAAM,CAAG,CAAT,CAAcA,MAAM,CAAG,CAAT,cAAa,aAAK,EAAE,CAAC,mBAAR,WAA6BA,MAA7B,mBAAb,cAAoE,aAAK,EAAE,CAAC,mBAAR,WAA6BA,MAA7B,kBAAlF,cAA0I,YAAK,SAAS,CAAC,eAAf,uBAA+B,aAAK,EAAE,CAAC,iBAAR,yDAAkD,aAAlD,kBAAyD,aAAzD,cAA+D,YAAK,GAAG,CAAC,wEAAT,EAA/D,OAA/B,EAnEpJ,CAqEKP,UAAU,CAAC8B,GAAX,CAAe,SAACC,IAAD,CAAOC,GAAP,sBAAiB;AAC7B,aAAK,SAAS,mBAAaA,GAAG,CAAG,CAAnB,CAAd,wBAGI,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,SAAS,CAAC,mBAAf,CAAmC,GAAG,kCAA4BD,IAAI,CAACO,eAAjC,CAAtC,CAA0F,GAAG,CAAC,EAA9F,EADJ,EAHJ,cAMI,aAAK,SAAS,CAAC,iBAAf,wBACI,qBAAOP,IAAI,CAACZ,WAAZ,EADJ,cAEI,qBAAOY,IAAI,CAACnB,SAAZ,EAFJ,cAGI,qBAAOmB,IAAI,CAACI,cAAZ,EAHJ,cAII,uBAAOJ,IAAI,CAACQ,iBAAZ,OAAmCR,IAAI,CAACS,eAAxC,GAJJ,GANJ,GAA2CR,GAA3C,CADY,GAAf,CArEL,GADN,CAuFD,CAxND,CA0NA,cAAerC,CAAAA,aAAf","sourcesContent":["import React, {Fragment, useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst Type_rap_prgm = () => {\r\n\r\n    const [data, setData] = useState([]);\r\n\r\n    const [typeOfRap, setTypeOfRap] = useState();\r\n    \r\n    const [filterData, setFilterData] = useState([]);\r\n\r\n    const [autreFilter, setAutreFilter] = useState();\r\n\r\n    const [autreFilter1, setAutreFilter1] = useState();\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios(\r\n        \"/memory_admin/controller/programme/programme_api.php\",\r\n      );\r\n\r\n      setData(result.data);\r\n\r\n    };\r\n    fetchData();\r\n\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if(typeOfRap && autreFilter && !autreFilter1){\r\n        const filterTypeRap = data.filter(musique => musique.type_rap === typeOfRap && musique.nom_scene === autreFilter)\r\n        setFilterData(filterTypeRap)\r\n        return\r\n    }\r\n\r\n    if(typeOfRap && autreFilter1 && !autreFilter){\r\n        const filterTypeRap = data.filter(musique => musique.type_rap === typeOfRap && musique.date_formatage_prgm === autreFilter1)\r\n        setFilterData(filterTypeRap)\r\n        return\r\n    }\r\n\r\n    if(autreFilter1 && autreFilter && !typeOfRap){\r\n        const filterTypeRap = data.filter(musique => musique.date_formatage_prgm === autreFilter1 && musique.nom_scene === autreFilter)\r\n        setFilterData(filterTypeRap)\r\n        return\r\n    }\r\n\r\n    if(autreFilter1 && autreFilter &&  typeOfRap){\r\n        const filterTypeRap = data.filter(musique => musique.type_rap === typeOfRap && musique.nom_scene === autreFilter && musique.date_formatage_prgm === autreFilter1 )\r\n        setFilterData(filterTypeRap)\r\n        return\r\n    }\r\n\r\n    if(typeOfRap || autreFilter || autreFilter1 ){\r\n\r\n        const filterTypeRap = data.filter(musique => musique.nom_scene === autreFilter || musique.type_rap === typeOfRap || musique.date_formatage_prgm === autreFilter1)\r\n        setFilterData(filterTypeRap)\r\n        return\r\n    }\r\n\r\n    setFilterData(data)\r\n\r\n    return\r\n    \r\n  }, [data, typeOfRap, autreFilter, autreFilter1])\r\n\r\n\r\n  var result = filterData.length;\r\n\r\n\r\n  const [nom_scene, setNom_scene] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchNom_scene = async () => {\r\n        const result = await axios(\r\n        \"/memory_admin/controller/distinc_select_api.php\",\r\n        );\r\n\r\n        setNom_scene(result.data);\r\n        console.log(\"updated\");\r\n        };\r\n        fetchNom_scene();\r\n        console.log(\"mounted\");\r\n\r\n    }, [])\r\n\r\n\r\n    const [nom_artiste, setNom_artiste] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchNom_artiste = async () => {\r\n        const result = await axios(\r\n        \"/memory_admin/controller/distinc_select_api.php\",\r\n        );\r\n\r\n        setNom_artiste(result.data);\r\n        console.log(\"updated\");\r\n        };\r\n        fetchNom_artiste();\r\n        console.log(\"mounted\");\r\n\r\n    }, [])\r\n\r\n\r\n    const [type_rap, setType_rap] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchType_rap = async () => {\r\n        const result = await axios(\r\n        \"/memory_admin/controller/distinc_select_api.php\",\r\n        );\r\n\r\n        setType_rap(result.data);\r\n        console.log(\"updated\");\r\n        };\r\n        fetchType_rap();\r\n        console.log(\"mounted\");\r\n\r\n    }, [])\r\n\r\n\r\n//   const handleClick = (key,e) => {  \r\n//     e.preventDefault();    \r\n//     console.log(key);  \r\n//   }\r\n    var test = \"\";\r\n  return (\r\n        <Fragment>\r\n            <select name=\"\" value={typeOfRap} onChange={(e) => {\r\n\r\n                const selectedFoodT = e.target.value ;\r\n                console.log(typeOfRap)\r\n\r\n                setTypeOfRap(selectedFoodT)\r\n            }}>\r\n                <option value=\"\">--- Musique ---</option>\r\n                {type_rap.filter(rien => rien.type_rap).map((item, key) => (\r\n                <Fragment key={key}>\r\n                    <option value={item.type_rap}>{item.type_rap}</option>\r\n                </Fragment>\r\n                ))}\r\n            \r\n            </select>\r\n\r\n\r\n\r\n            <select name=\"\" value={autreFilter} onChange={(e) => {\r\n\r\n            const selectedFood = e.target.value ;\r\n                console.log(autreFilter)\r\n            setAutreFilter(selectedFood)\r\n\r\n\r\n            }}>\r\n            <option value=\"\">--- Scène ---</option>\r\n            {nom_scene.filter(rien => rien.nom_scene).map((item, key) => (\r\n            <Fragment key={key}>\r\n            <option value={item.nom_scene}>{item.nom_scene}</option>\r\n            </Fragment>\r\n            ))}\r\n            \r\n            </select>\r\n            \r\n\r\n            <select name=\"\" value={autreFilter1} onChange={(e) => {\r\n\r\n            const selectedFoodTT = e.target.value ;\r\n                setAutreFilter1(selectedFoodTT)\r\n                console.log(setAutreFilter1(selectedFoodTT))\r\n\r\n            }}>\r\n            <option value=\"\">--- Date ---</option>\r\n            {nom_artiste.filter(rien => rien.date_formatage).map((item, key) => (\r\n\r\n            <Fragment key={key}>\r\n                { test = item.date_formatage }\r\n                { test.includes(\"Monday\") ? test = test.replace(\"Monday\", \"Lundi\") : \"\"}\r\n                { test.includes(\"Tuesday\") ? test = test.replace(\"Tuesday\", \"Mardi\") : \"\"}\r\n                { test.includes(\"Wednesday\") ? test = test.replace(\"Wednesday\", \"Mercredi\") : \"\"}\r\n                { test.includes(\"Thursday\") ? test = test.replace(\"Thursday\", \"Jeudi\") : \"\"}\r\n                { test.includes(\"Friday\") ? test = test.replace(\"Friday\", \"Vendredi\") : \"\"}\r\n                { test.includes(\"Saturday\") ? test = test.replace(\"Saturday\", \"Samedi\") : \"\"}\r\n                { test.includes(\"Sunday\") ? test = test.replace(\"Sunday\", \"Dimanche\") : \"\"}\r\n                <option value={item.date_formatage}>{test}</option>\r\n            </Fragment>\r\n            ))}\r\n\r\n            </select>\r\n\r\n\r\n\r\n\r\n            {/* {console.log(typeOfRap)} */}\r\n            {/* <div> ({result} == 1 ?  {result} Résultat : {result} Résultats) </div> */}\r\n                {(result > 0 ? (result > 1 ? <div id=\"result_prgm_green\">{result} Résultats</div> : <div id=\"result_prgm_green\">{result} Résultat</div>)  : <div className=\"fausseHauteur\"><div id=\"result_prgm_red\"> Aucun résultat trouvé  <br /> <br /><img src=\"https://data.photofunky.net/output/image/8/9/3/2/8932a4/photofunky.gif\" /> </div></div>)}\r\n\r\n            {filterData.map((item, key) => ( // enlever le filter\r\n                <div className={`template${key % 2}`} key={key}>\r\n                    \r\n                    {/* {console.log(filterData.size)} */}\r\n                    <div className=\"template_grid_1\">\r\n                        <img className=\"img_template_grid\" src={`data:image/png;base64, ${item.image_programme}`} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"template_grid_2\">\r\n                        <div>{ item.nom_artiste }</div>\r\n                        <div>{ item.nom_scene }</div>\r\n                        <div>{ item.date_formatage }</div>\r\n                        <div>{ item.heures_prog_debut } - {item.heures_prog_fin}</div>\r\n                    </div>\r\n                </div> \r\n            ))}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Type_rap_prgm"]},"metadata":{},"sourceType":"module"}