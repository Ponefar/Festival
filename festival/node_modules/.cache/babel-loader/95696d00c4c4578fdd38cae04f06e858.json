{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/wamp64/www/festival/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/wamp64/www/festival/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/wamp64/www/festival/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import axios from'axios';var Direct=function Direct(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"http://localhost/memory_admin_en/controller/programme/programme_api.php\");case 2:result=_context.sent;setData(result.data);console.log(\"updated\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();console.log(\"mounted\");},[]);var d=new Date();var date=d.toLocaleDateString();var heure=d.toLocaleTimeString();console.log(date);console.log(heure);var real=date+\" \"+heure;real.replace(\"/\",\"-\");// console.log(\"salut\" + real)\n// const variable = \"13/01/2021 08:59:00\"\n// variable.replace(\"/\",\"-\");\n// console.log(variable)\nvar result=data.filter(function(name){return name.date_time_fr===date&&name.heures_prog_debut<heure&&name.heures_prog_fin>heure;}).length;console.log(date+\" \"+heure);console.log(real);if(\"13/06/2021 08:47\"<real){console.log(\"Marche\");}else{console.log(\"No Marche\");}// const Atm = () => {\n//     let date1 = new Date();\n//     let dateLocale = date1.toLocaleString('fr-FR',{\n//         weekday: 'long',\n//         year: 'numeric',\n//         month: 'numeric',\n//         day: 'numeric',\n//         hour: 'numeric',\n//         minute: 'numeric',\n//         second: 'numeric'});\n//     return (\n//         dateLocale\n//     )\n// }\nreturn/*#__PURE__*/_jsxs(Fragment,{children:[console.log(date),console.log({data:data}),/*#__PURE__*/_jsx(\"div\",{className:\"actu_concert\",children:\"Actuellement en concert\"}),result>0?result>1?/*#__PURE__*/_jsxs(\"div\",{id:\"result_prgm_green\",children:[result,\" concerts en ce moment \"]}):/*#__PURE__*/_jsxs(\"div\",{id:\"result_prgm_green\",children:[result,\" concert en ce moment \"]}):/*#__PURE__*/_jsx(\"div\",{className:\"fausseHauteur\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"result_prgm_red\",children:[\" Aucun concert en ce moment \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:\"https://data.photofunky.net/output/image/8/9/3/2/8932a4/photofunky.gif\"}),\" \"]})}),data.filter(function(name){return name.date_time_fr===date&&name.heures_prog_debut<heure&&name.heures_prog_fin>heure;}).map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"template\".concat(key%2),children:[/*#__PURE__*/_jsx(\"div\",{className:\"template_grid_1\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img_template_grid\",src:\"data:image/png;base64, \".concat(item.image_programme),alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"template_grid_2\",children:[/*#__PURE__*/_jsx(\"div\",{children:item.nom_artiste}),/*#__PURE__*/_jsx(\"div\",{children:item.nom_scene}),/*#__PURE__*/_jsx(\"div\",{children:item.date_formatage}),/*#__PURE__*/_jsxs(\"div\",{children:[item.heures_prog_debut,\" - \",item.heures_prog_fin]}),/*#__PURE__*/_jsx(\"br\",{})]})]},key);})]});};export default Direct;","map":{"version":3,"sources":["C:/wamp64/www/festival/src/components/direct/Direct.js"],"names":["React","Fragment","useState","useEffect","axios","Direct","data","setData","fetchData","result","console","log","d","Date","date","toLocaleDateString","heure","toLocaleTimeString","real","replace","filter","name","date_time_fr","heures_prog_debut","heures_prog_fin","length","map","item","key","image_programme","nom_artiste","nom_scene","date_formatage"],"mappings":"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","sourcesContent":["import React, {Fragment, useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Direct = () => {\r\n\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const result = await axios(\r\n            \"http://localhost/memory_admin_en/controller/programme/programme_api.php\",\r\n            );\r\n    \r\n            setData(result.data);\r\n            console.log(\"updated\");\r\n        }\r\n            fetchData();\r\n            console.log(\"mounted\");\r\n    \r\n    }, [])\r\n\r\n\r\n    var d = new Date();\r\n    var date = d.toLocaleDateString();\r\n    var heure = d.toLocaleTimeString();\r\n    console.log(date)\r\n    console.log(heure)\r\n    var real = date + \" \" + heure\r\n    real.replace(\"/\", \"-\")\r\n    // console.log(\"salut\" + real)\r\n\r\n    // const variable = \"13/01/2021 08:59:00\"\r\n    // variable.replace(\"/\",\"-\");\r\n    // console.log(variable)\r\n    var result = data.filter(name => name.date_time_fr === date && name.heures_prog_debut < heure && name.heures_prog_fin > heure).length;\r\n\r\n\r\n    console.log(date +  \" \" + heure)\r\n    console.log(real)\r\n    if(\"13/06/2021 08:47\" < real){\r\n        console.log(\"Marche\")\r\n    \r\n    }else{\r\n        console.log(\"No Marche\")\r\n    }\r\n\r\n\r\n    // const Atm = () => {\r\n    //     let date1 = new Date();\r\n\r\n    //     let dateLocale = date1.toLocaleString('fr-FR',{\r\n    //         weekday: 'long',\r\n    //         year: 'numeric',\r\n    //         month: 'numeric',\r\n    //         day: 'numeric',\r\n    //         hour: 'numeric',\r\n    //         minute: 'numeric',\r\n    //         second: 'numeric'});\r\n    //     return (\r\n    //         dateLocale\r\n    //     )\r\n    // }\r\n\r\n    return( \r\n        <Fragment>\r\n            \r\n            {/* {console.log(date + \" \" + heure)} */}\r\n            {console.log(date)}\r\n            {console.log({data})}\r\n            <div className=\"actu_concert\">Actuellement en concert</div>\r\n            {(result > 0 ? (result > 1 ? <div id=\"result_prgm_green\">{result} concerts en ce moment </div> :  <div id=\"result_prgm_green\">{result} concert en ce moment </div>) : <div className=\"fausseHauteur\"><div id=\"result_prgm_red\"> Aucun concert en ce moment <br /> <br /><img src=\"https://data.photofunky.net/output/image/8/9/3/2/8932a4/photofunky.gif\" /> </div></div>)}\r\n\r\n            {data.filter(name => name.date_time_fr === date && name.heures_prog_debut < heure && name.heures_prog_fin > heure ).map((item,key) => (\r\n                <div className={`template${key % 2}`} key={key}>\r\n                    \r\n                {/* {console.log(filterData.size)} */}\r\n                {/* {console.log(item.date_time_fr)}\r\n                {console.log(real)} */}\r\n                <div className=\"template_grid_1\">\r\n                    <img className=\"img_template_grid\" src={`data:image/png;base64, ${item.image_programme}`} alt=\"\" />\r\n                </div>\r\n                <div className=\"template_grid_2\">\r\n                    <div>{ item.nom_artiste }</div>\r\n                    <div>{ item.nom_scene }</div>\r\n                    <div>{ item.date_formatage }</div>\r\n                    <div>{ item.heures_prog_debut } - {item.heures_prog_fin}</div>\r\n                    <br />\r\n                    {/* <div>{item.date_time_fr} --- {real}</div> */}\r\n                </div>\r\n            </div> \r\n            ))}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Direct"]},"metadata":{},"sourceType":"module"}